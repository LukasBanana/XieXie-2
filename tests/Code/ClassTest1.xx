
// Class Test 1
// 07/04/2015

class IO {
	static void writeLine(String@ s) {
		Intrinsics.printLn(s.pointer())
	}
}

//[[final(test)]]
class Hello {
	init() {}
	init(String s) { _s := s }
	
	String _s
	
	//[[deprecated]]
	String hello()
	
	[[final]]
	void print() {
		IO.writeLine(hello())
	}
}

[[deprecated("use anonymous classes instead")]]
class EnglishHello : Hello {
	init() {}
	
	[[override, final]]
	String hello() { return "Hello" }
	
	//void print() {} // error, "Hello.print" is 'final'
}

class Test {
	
	static void say(Hello sentence) {
		IO.writeLine(sentence.hello())
	}
	
	static void main() {
		
		// Named class
		Test.say(new EnglishHello())
		
		// Anonymous class
		Test.say(
			new Hello(5) {
				init(int x) : super("x") {}
				[[override]]
				String hello() { return "Hallo" }
			}
		)
		
	}
	
}

