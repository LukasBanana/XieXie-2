
// Math Test 1
// 05/09/2014

[[deprecated("This is a test deprecation hint")]]
extern class Math {
	
	static float sqrt(float x)
	
	static float sq(float x)
	
	[[deprecated("\"distanceSq\" is also deprecated")]]
	static float distanceSq(Vector3 a, Vector3 b)
	
}

extern class Log {
	
	static void writeLine(String msg)
	
}

class Vector3 {
	
	init() {
		x,y,z := 0.0
	}
	
	void normalize() {
		float len := x*x + y*y + z*z
		
		if len != 0.0 and len != 1.0 {
			len := 1.0 / Math.sqrt(x: len)
			
			x *= len
			y *= len
			z *= len
		}
	}
	
	String toString() {
		String s := Test.fibonacci(10).toString()
		for int i := 0 ; i < { x, y, z }.size() ; i++ {
			s += i.toString()
		}
		return s
	}
	
	float x, y, z
	
}

class Test {
	
	static int fibonacci(int n) {
		if n <= 2 {
			return 1
		}
		return fibonacci(n - 1) + fibonacci(n - 2)
	}
	
	static void fire() {}
	
	static void onMouseDown(int button) {
		if button = 1 {
			fire()
			return
		}
	}
	
	static int main(String[] args) {
		
		Vector3[] coords := new Vector3[](100)
		
		//coords[0].toString().toString()
		
		String str1 := "Hello"
		String str2 := new String("World")
		Log.writeLine(str1 + ", " + str2)
		
		int len := "Test".size()
		
		int n := 10
		Log.writeLine("Fibonacci(" + n + ") = " + fibonacci(n))
		
		return 0
		
	}
	
}
